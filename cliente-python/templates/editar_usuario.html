<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
        <title>Stockearte</title>
<body>
    <header>
        <nav class="navbar navbar-expand-md navbar-dark sticky-top" style="background-color: #353A40;">
          <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
            <span class="fs-4 ms-3">Stockearte</span>
          </a>
          <div id="navbarSupportedContent" >
            <ul class="nav">
                <form action="{{ url_for('logout') }}" method="post">
                    <button class = "btn nav-link link-secondary text-white-50" type="submit" class="logout-button">Cerrar sesión</button>
                </form>
            </ul>
          </div>
        </nav>
      </header>
    <div class="container">
        <h1>Editar Usuario</h1>
        <form method="POST">
            <label for="nombre_usuario">Nombre de Usuario:</label>
            <input type="text" id="nombre_usuario" name="nombre_usuario" value="{{ usuario.nombreUsuario }}" required>
            
            <label for="contrasena">Contraseña:</label>
            <input type="password" id="contrasena" name="contrasena" placeholder="Dejar vacío para no cambiar">
            
            <label for="tienda">Tienda:</label>
            <select id="tienda" name="tienda" required>
                {% for tienda in tiendas %}
                    <option value="{{ tienda.codigo }}" {% if tienda.codigo == usuario.idTienda %}selected{% endif %}>
                        {{ tienda.ciudad }} ({{ tienda.codigo }})
                    </option>
                {% endfor %}
            </select>
            
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" value="{{ usuario.nombre }}" required>
            
            <label for="apellido">Apellido:</label>
            <input type="text" id="apellido" name="apellido" value="{{ usuario.apellido }}" required>
            
            <label for="rol">Rol:</label>
            <select id="rol" name="rol" required>
                <option value="CASA_CENTRAL" {% if usuario.rol == 'CASA_CENTRAL' %}selected{% endif %}>Casa Central</option>
                <option value="TIENDA" {% if usuario.rol == 'TIENDA' %}selected{% endif %}>Tienda</option>
                <!-- Agrega más roles según sea necesario -->
            </select>
            
            <label for="habilitado">Habilitado:</label>
            <input type="checkbox" id="habilitado" name="habilitado" {% if usuario.habilitado %}checked{% endif %}>

            <button type="submit">Actualizar Usuario</button>
        </form>
        <a href="{{ url_for('ver_usuario', id=usuario.id) }}"><button>Volver a los Detalles del Usuario</button></a>
    </div>
</body>
</html>
