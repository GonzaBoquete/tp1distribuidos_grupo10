syntax = "proto3";

import "tienda.proto"; // Importar tienda.proto para utilizar el mensaje Tienda
import "google/protobuf/empty.proto"; // Importa el archivo empty.proto

option java_package = "com.stockearte.tp1_grupo10.grpc";
option java_outer_classname = "StockProto";


// Definición del mensaje Stock
message Stock {
  int64 id = 1;
  Tienda tienda = 2;
  string producto_codigo = 3;
  int32 cantidad = 4;
}

// Definición de mensajes para las operaciones del servicio
message StockIdRequest {
  int64 id = 1;
}

message StockList {
  repeated Stock stocks = 1;
}

message StockUpdateRequest {
  int64 id = 1;
  int32 cantidad = 2;
}

service StockService {
  rpc AddStock (Stock) returns (Stock);
  rpc GetOneById (StockIdRequest) returns (Stock);
  rpc GetAll (Empty) returns (StockList);
  rpc UpdateStock (Stock) returns (Stock);
  rpc UpdateStockQuantity (StockUpdateRequest) returns (Stock);
  rpc DeleteStock (StockIdRequest) returns (Empty);
}